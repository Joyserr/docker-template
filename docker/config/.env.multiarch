# ========================================
# 多架构Docker镜像构建配置
# ========================================

# 用户配置（继承自.env）
USER_NAME=duboping
USER_UID=1000
USER_GID=1000

# Docker镜像基础配置
IMAGE_NAME=docker-template
IMAGE_TAG=latest
# CONTAINER_NAME=docker-template-container
CONTAINER_NAME=aketheia_suite_bridge-container

# ROS发行版配置
ROS_DISTRO=noetic

# 工作空间挂载配置
WORKSPACE_DIR=/home/duboping/public/kudan/kudan_ws

# ========================================
# 多架构构建配置
# ========================================

# 构建器名称（Docker Buildx builder）
BUILDER_NAME=multiarch-builder

# 支持的目标架构和平台
# 可用平台: linux/amd64, linux/arm64, linux/arm/v7, linux/riscv64
# TARGET_PLATFORMS 格式: "platform1 platform2 platform3"
TARGET_PLATFORMS="linux/amd64 linux/arm64"

# 构建输出类型
# 可选值:
#   - registry: 推送到Docker Hub或其他镜像仓库（需要设置REGISTRY和REPO_NAME）
#   - local: 保存到本地Docker镜像存储
#   - docker: 直接加载到本地Docker（仅适用于单平台）
#   - tar: 导出为tar文件（需要设置OUTPUT_PATH）
BUILD_OUTPUT_TYPE=local

# 镜像仓库配置（当BUILD_OUTPUT_TYPE=registry时使用）
REGISTRY=docker.io
REPO_NAME=yourusername/ros-kudan-dev

# 输出文件路径（当BUILD_OUTPUT_TYPE=tar时使用）
OUTPUT_PATH=./output/images

# 是否使用缓存
BUILD_CACHE=true

# 是否使用BuildKit
USE_BUILDKIT=true

# 构建并发数
BUILD_JOBS=4

# ========================================
# 平台特定配置
# ========================================

# ARM64特定配置
ARM64_BASE_IMAGE=ros:noetic-ros-base

# AMD64特定配置
AMD64_BASE_IMAGE=ros:noetic-ros-base

# ARMv7特定配置
ARMV7_BASE_IMAGE=ros:noetic-ros-base

# ========================================
# 高级配置
# ========================================

# 是否启用QEMU模拟器（用于交叉编译）
ENABLE_QEMU=true

# 构建超时时间（秒）
BUILD_TIMEOUT=3600

# 是否推送镜像到仓库
PUSH_IMAGES=false

# 是否创建manifest列表
CREATE_MANIFEST=true
